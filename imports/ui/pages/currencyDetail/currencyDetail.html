<template name="currencyDetail">
    {{> sAlert}}
    {{#with thiscurrency}}{{> currencyInfo}}{{/with}}
    <div class="card border-secondary mb-3 mb-3" style="min-width:300px;overflow:hidden;">
        <div class="card-header" style="height:50px">
            <h4 class="pull-left">Fundamental Metrics
  </h4></div>
        <div class="card-body" style="display:{{bodydisplay}};">
            {{#with thiscurrency}}{{> fundamentalMetrics}}{{/with}} {{#with thiscurrency}}{{> features}}{{/with}} {{#with thiscurrency}}{{> redflags}}{{/with}} {{#with thiscurrency}}{{> walletimages}}{{/with}}
        </div>
    </div>
</template>
<template name="walletimages">
    <div class="card border-secondary mb-3 mb-3" style="min-width:300px;overflow:hidden;margin-top:10px;">
        <div class="card-header" style="height:50px">
            <h4 class="pull-left">Wallet Images
  </h4></div>
        <div class="card-body">
            {{#if subsCacheReady}}
                {{#each walletimages}}
                    <img src="{{walletimagesdir}}{{_id}}.{{extension}}" style="width:100px;height:100px"> 
                {{else}}
                    {{> empty}}
                {{/each}}
            {{else}}
                {{> loading}}
            {{/if}}
        </div>
    </div>
</template>
<template name="fundamentalMetrics">
    <div class="currencyDetailBox">
        <h5 class="text-center currencyDetailHeading" id="fundamentalMetricsLocation">Fundamental Metrics</h5>
        <div style="width:100%">
            {{> radarGraph width=800 height=600 options=options class="mx-auto"}}
        </div>
        <a href="/compareCurrencies">Compare with other currencies</a>
        <div class="row" style="margin-top:10px;">
            <div class="col-lg-3">
                <div class="btn-group-vertical">
                    {{#each metrics}}
                    <button id="name" type="button" class="btn btn-secondary">{{name}}</button>
                    {{/each}}
                </div>
            </div>
            <div class="col-lg-9">
                {{#each metrics}}
                <div id={{_id}} style="display:none;" class="">{{currencyName}} {{name}} text
                    <br />
                    <hr /> {{metricDescription}}</div>
                {{/each}}
            </div>
        </div>
    </div>
</template>
<template name="discussion">
    <div class="currencyDetailBox">
        <h5 class="text-center currencyDetailHeading">Discussion</h5> 
        {{#if subsCacheReady}}
            {{#each topComment}}
                <div class="commentThread">
                    <div class="bigCommentBox">
                        <div class="commentRating"></div>
                        <div class="commentBody">
                            <div class="commentText">{{commentText}}</div>
                            <div class="commentAuthor">{{authorName}}</div>
                        </div>
                        <div class="commentAnalysis"></div>
                    </div>
                    {{#each topReply}}
                    <div class="commentResponse">
                        <div class="commentRating"></div>
                        <div class="commentBody">
                            <div class="commentText">{{commentText}}</div>
                            <div class="commentAuthor">{{authorName}}</div>
                        </div>
                    </div>
                    {{/each}}
                </div>
            {{else}}
                {{> empty}}
            {{/each}}
        {{else}}
            {{> loading}}
        {{/if}}
        <div class="text-right">{{totalComments}} more</div>
    </div>
</template>
<template name="currencyInfo">
    <div class="card border-secondary mb-3 mb-3" style="min-width:300px;overflow:hidden;">
        <div class="card-header">
            <h4 class="pull-left">
                <img style="width:50px; ;padding-right:20px" class="rounded-circle" src="{{doesCoinImageExist currencyLogoFilename}}">{{currencyName}} {{#with thiscurrency}}({{currencySymbol}}) {{/with}}
  </h4>
            </div>
        <div class="card-body" style="display:{{bodydisplay}};">
            <input type="hidden" id="_id" value="{{_id}}">
            <input type="hidden" id="name" value="{{currencyName}}">
            <table class="table" style="float:left;width:45%">
                <tbody>
                    <tr>
                        <th scope="row"><h6>currencyName</h6></th>
                        <td><span id="currencyName">{{isNull currencyName 'currencyName'}}</span></td>
                    </tr>
                    <tr>
                        <th scope="row"><h6>currencySymbol</h6></th>
                        <td><span id="currencySymbol">{{isNull currencySymbol 'currencySymbol'}}</span></td>
                    </tr>
                    <tr>
                        <th scope="row"><h6>genesisTimestamp</h6></th>
                        <td><span id="genesisTimestamp">{{isDateNull genesisTimestamp 'genesisTimestamp'}}</span></td>
                    </tr>
                    <tr>
                        <th scope="row"><h6>premine</h6></th>
                        <td><span id="premine">{{isNull premine 'premine'}}</span></td>
                    </tr>
                    <tr>
                        <th scope="row"><h6>circulating</h6></th>
                        <td><span id="circulating">{{isNull circulating 'circulating'}}</span></td>
                    </tr>
                    <tr>
                        <th scope="row"><h6>maxCoins</h6></th>
                        <td><span id="maxCoins">{{isNull maxCoins 'maxCoins'}}</span></td>
                    </tr>
                    <tr>
                        <th scope="row"><h6>consensusSecurity</h6></th>
                        <td><span id="consensusSecurity">{{isNull consensusSecurity 'consensusSecurity'}}</span></td>
                    </tr>
                    <tr>
                        <th scope="row"><h6>hashAlgorithm</h6></th>
                        <td><span id="hashAlgorithm">{{hashAlgorithm}}</span></td>
                    </tr>
                </tbody>
            </table>
            <table class="table" style="float:right;width:45%">
                <tbody>
                    <tr>
                        <th scope="row"><h6>walletRanking</h6></th>
                        <td>{{isNull walletRanking 'walletRanking'}}</td>
                    </tr>
                    <tr>
                        <th scope="row"><h6>gitUpdate</h6></th>
                        <td>{{isNullReadOnly gitUpdate}}</td>
                    </tr>
                    <tr>
                        <th scope="row"><h6>gitCommits</h6></th>
                        <td>{{isNullReadOnly gitCommits}}</td>
                    </tr>
                    <tr>
                        <th scope="row"><h6>marketCap</h6></th>
                        <td><span id="marketCap">{{isNull marketCap 'marketCap'}}</span></td>
                    </tr>
                    <tr>
                        <th scope="row"><h6>gitRepo</h6></th>
                        <td class="tableWrap"><a href="{{gitRepo}}" data-toggle="tooltip" title="{{gitRepo}}">{{isNull gitRepo 'gitRepo'}}</a></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</template>